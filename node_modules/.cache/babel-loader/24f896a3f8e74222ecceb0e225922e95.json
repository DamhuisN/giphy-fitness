{"remainingRequest":"/Users/nandamhuis/Documents/giphy-vibes/node_modules/babel-loader/lib/index.js!/Users/nandamhuis/Documents/giphy-vibes/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nandamhuis/Documents/giphy-vibes/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/nandamhuis/Documents/giphy-vibes/src/components/home-page.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nandamhuis/Documents/giphy-vibes/src/components/home-page.vue","mtime":1614457740998},{"path":"/Users/nandamhuis/Documents/giphy-vibes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hbmRhbWh1aXMvRG9jdW1lbnRzL2dpcGh5LXZpYmVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lUGFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9mZnNldDogMCwKICAgICAgbGltaXQ6IDIwLAogICAgICBzY3JvbGxPZmZzZXQ6IDcwMAogICAgfTsKICB9LAoKICAvKioKICAqIFRoZSBjcmVhdGVkIGxpZmVjeWNsZSBob29rIGlzIGNhbGxlZCBvbiBsb2FkIG9mIHRoZSBjb21wb25lbnQuIAogICogVGhlcmUgd2UgaW5pdGlhdGUgdGhlIGluZmluaXRlIHNjcm9sbCBhbmQgZmV0Y2ggdGhlIGluaXRpYWwgc2V0IG9mIGdpcGhpZXMKICAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRJbmZpbml0ZVNjcm9sbCgpOwogICAgdGhpcy5mZXRjaEdpcGhpZXMoKTsKICB9LAoKICAvKioKICAqIEluIHRoZSBjb21wdXRlZCB2YWx1ZXMgd2UgbGluayB0aGUgZ2lwaGllcyBzdGF0ZSBmcm9tIHRoZSBzdG9yZSB0byBhIG1lbWJlciB2YXJpYWJsZSBvZiB0aGUgY29tcG9uZW50CiAgKiBWdWV4IGFsbG93cyB5b3UgdG8gZG8gdGhpcyBhdXRvbWF0ZWQgdXNpbmcgdGhlIC4uLm1hcFN0YXRlIG1ldGhvZCB0byBoYW5kbGUgdGhlIG1hcHBpbmcgZm9yIHlvdQogICogRm9yIHRoaXMgd2UgdXNlIHRoZSBpbWFnZXMub3JpZ2luYWwudXJsLCBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdpcGh5LmNvbS9leHBsb3JlciBmb3IgcmVmZXJlbmNlCiAgKi8KICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgZ2lwaGllczogZnVuY3Rpb24gZ2lwaGllcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZ2lwaGllczsKICAgIH0KICB9KSksCiAgbWV0aG9kczogewogICAgLyoqCiAgICAqIEZldGNoIGEgY29sbGVjdGlvbiBvZiBnaXBoaWVzIHdpdGggdGhlIHBhc3NlZCBvZmZzZXQgb3IgdGhlIGNvbmZpZ3VyZWQgb2Zmc2V0CiAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQKICAgICovCiAgICBmZXRjaEdpcGhpZXM6IGZ1bmN0aW9uIGZldGNoR2lwaGllcyhvZmZzZXQpIHsKICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQgfHwgdGhpcy5vZmZzZXQ7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRHaXBoaWVzJywgewogICAgICAgIHN1YmplY3Q6ICdmaXRuZXNzJywKICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LAogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICogSGFuZGxlIHRoZSBpbmZpbml0ZSBzY3JvbGwgbG9naWMgYnkgYWRkaW5nIGFuIGV2ZW50IGxpc3RlbmVyLiBJZiB3ZSBnZXQgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZSAodGhlIHNjcm9sbE9mZnNldCwgd2hpY2ggaXMgMiBpbWFnZXMgaGlnaCkKICAgICogV2UgZmV0Y2ggdGhlIG5leHQgc2V0IG9mIGdpcGhpZXMsIHdoaWxlIGJsb2NraW5nIGFueSBmdXJ0aGVyIHJlcXVlc3RzIHdpdGggdGhlIGlzTG9hZGluZyBwcm9wZXJ0eQogICAgKi8KICAgIGluaXRJbmZpbml0ZVNjcm9sbDogZnVuY3Rpb24gaW5pdEluZmluaXRlU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBtYXhTY3JvbGwgPSBNYXRoLm1heCh3aW5kb3cucGFnZVlPZmZzZXQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKTsKICAgICAgICB2YXIgYm90dG9tT2ZXaW5kb3cgPSBtYXhTY3JvbGwgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPj0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCAtIF90aGlzLnNjcm9sbE9mZnNldDsKCiAgICAgICAgaWYgKGJvdHRvbU9mV2luZG93ICYmICFfdGhpcy5naXBoaWVzLmlzTG9hZGluZykgewogICAgICAgICAgX3RoaXMuZmV0Y2hHaXBoaWVzKF90aGlzLm9mZnNldCArIF90aGlzLmxpbWl0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/nandamhuis/Documents/giphy-vibes/src/components/home-page.vue"],"names":[],"mappings":";AASA,SAAQ,QAAR,QAAuB,MAAvB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,MAAM,EAAE,CADH;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,YAAY,EAAE;AAHT,KAAP;AAKD,GARY;;AASb;AACA;AACA;AACA;AACA,EAAA,OAba,qBAaH;AACR,SAAK,kBAAL;AACA,SAAK,YAAL;AACD,GAhBY;;AAiBb;AACA;AACA;AACA;AACA;AACA,EAAA,QAAQ,oBACD,QAAQ,CAAC;AACR,IAAA,OAAO,EAAE,iBAAA,KAAI,EAAK;AAChB,aAAQ,KAAK,CAAC,OAAd;AACD;AAHO,GAAD,CADP,CAtBK;AA6Bb,EAAA,OAAO,EAAE;AACP;AACA;AACA;AACA;AACA,IAAA,YALO,wBAKM,MALN,EAKc;AACnB,WAAK,MAAL,GAAc,MAAK,IAAK,KAAK,MAA7B;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC;AAAC,QAAA,OAAO,EAAE,SAAV;AAAqB,QAAA,MAAM,EAAE,KAAK,MAAlC;AAA0C,QAAA,KAAK,EAAE,KAAK;AAAtD,OAAnC;AACD,KARM;;AASP;AACA;AACA;AACA;AACA,IAAA,kBAbO,gCAac;AAAA;;AACnB,MAAA,QAAQ,CAAC,gBAAT,CAA0B,QAA1B,EAAoC,YAAM;AACxC,YAAM,SAAQ,GAAI,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,QAAQ,CAAC,eAAT,CAAyB,SAAtD,EAAiE,QAAQ,CAAC,IAAT,CAAc,SAA/E,CAAlB;AACA,YAAM,cAAa,GAAK,SAAQ,GAAI,MAAM,CAAC,WAApB,IAAqC,QAAQ,CAAC,eAAT,CAAyB,YAAzB,GAAwC,KAAI,CAAC,YAAzG;;AAEA,YAAI,cAAa,IAAK,CAAC,KAAI,CAAC,OAAL,CAAa,SAApC,EAA+C;AAC7C,UAAA,KAAI,CAAC,YAAL,CAAkB,KAAI,CAAC,MAAL,GAAc,KAAI,CAAC,KAArC;AACF;AACD,OAPD;AAQF;AAtBO;AA7BI,CAAf","sourcesContent":["<template>\n  <h1>Fit at home inspiration</h1>\n  <div class=\"grid\">\n       <img v-for=\"item in giphies.data\" :key=\"item.images.original.url\" :src=\"item.images.original.url\" :alt=\"item.title\">\n       <div v-if=\"giphies.isLoading\" class=\"loader\">Loading...</div>\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex';\nexport default {\n  name: 'HomePage',\n  data() {\n    return {\n      offset: 0,\n      limit: 20,\n      scrollOffset: 700\n    }\n  },\n  /**\n  * The created lifecycle hook is called on load of the component. \n  * There we initiate the infinite scroll and fetch the initial set of giphies\n  */\n  created() {\n    this.initInfiniteScroll();\n    this.fetchGiphies();\n  },\n  /**\n  * In the computed values we link the giphies state from the store to a member variable of the component\n  * Vuex allows you to do this automated using the ...mapState method to handle the mapping for you\n  * For this we use the images.original.url, see https://developers.giphy.com/explorer for reference\n  */\n  computed: {\n      ...mapState({\n          giphies: state => {\n            return  state.giphies;\n          },\n      })\n  },\n  methods: {\n    /**\n    * Fetch a collection of giphies with the passed offset or the configured offset\n    * @param {Number} offset\n    */\n    fetchGiphies(offset) {\n      this.offset = offset || this.offset;\n      this.$store.dispatch('getGiphies', {subject: 'fitness', offset: this.offset, limit: this.limit});\n    },\n    /**\n    * Handle the infinite scroll logic by adding an event listener. If we get within the threshold of the bottom of the page (the scrollOffset, which is 2 images high)\n    * We fetch the next set of giphies, while blocking any further requests with the isLoading property\n    */\n    initInfiniteScroll() {\n      document.addEventListener('scroll', () => {\n        const maxScroll = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);\n        const bottomOfWindow = (maxScroll + window.innerHeight) >= (document.documentElement.offsetHeight - this.scrollOffset);\n\n        if (bottomOfWindow && !this.giphies.isLoading) {\n          this.fetchGiphies(this.offset + this.limit);\n        }\n      });\n    }\n  }\n}\n</script>\n<style>\nh1 {\n    font-family: helvetica;\n    padding: 32px;\n    background: #DDFCC7;\n}\n.grid {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n.grid img {\n  height: 350px;\n  width: 50%;\n}\n.loader,\n.loader:before,\n.loader:after {\n  border-radius: 50%;\n  width: 2.5em;\n  height: 2.5em;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  -webkit-animation: load 1.8s infinite ease-in-out;\n  animation: load 1.8s infinite ease-in-out;\n}\n.loader {\n  color: #000000;\n  font-size: 10px;\n  margin: 80px auto;\n  position: relative;\n  text-indent: -9999em;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n.loader:before,\n.loader:after {\n  content: '';\n  position: absolute;\n  top: 0;\n}\n.loader:before {\n  left: -3.5em;\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.loader:after {\n  left: 3.5em;\n}\n\n@-webkit-keyframes load {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 2.5em 0 -1.3em;\n  }\n  40% {\n    box-shadow: 0 2.5em 0 0;\n  }\n}\n\n@keyframes load {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 2.5em 0 -1.3em;\n  }\n  40% {\n    box-shadow: 0 2.5em 0 0;\n  }\n}\n\n@media(max-width: 768px) {\n.grid img {\n  width: 100%;\n}\n}\n</style>"],"sourceRoot":""}]}