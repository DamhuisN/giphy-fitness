{"remainingRequest":"/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/babel-loader/lib/index.js!/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/nandamhuis/Documents/giphy-vibes/demo/src/components/home-page.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nandamhuis/Documents/giphy-vibes/demo/src/components/home-page.vue","mtime":1614457201673},{"path":"/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nandamhuis/Documents/giphy-vibes/demo/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hbmRhbWh1aXMvRG9jdW1lbnRzL2dpcGh5LXZpYmVzL2RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWVQYWdlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb2Zmc2V0OiAwLAogICAgICBsaW1pdDogMjAsCiAgICAgIHNjcm9sbE9mZnNldDogNzAwCiAgICB9OwogIH0sCgogIC8qKgogICogVGhlIGNyZWF0ZWQgbGlmZWN5Y2xlIGhvb2sgaXMgY2FsbGVkIG9uIGxvYWQgb2YgdGhlIGNvbXBvbmVudC4gCiAgKiBUaGVyZSB3ZSBpbml0aWF0ZSB0aGUgaW5maW5pdGUgc2Nyb2xsIGFuZCBmZXRjaCB0aGUgaW5pdGlhbCBzZXQgb2YgZ2lwaGllcwogICovCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdEluZmluaXRlU2Nyb2xsKCk7CiAgICB0aGlzLmZldGNoR2lwaGllcygpOwogIH0sCgogIC8qKgogICogSW4gdGhlIGNvbXB1dGVkIHZhbHVlcyB3ZSBsaW5rIHRoZSBnaXBoaWVzIHN0YXRlIGZyb20gdGhlIHN0b3JlIHRvIGEgbWVtYmVyIHZhcmlhYmxlIG9mIHRoZSBjb21wb25lbnQKICAqIFZ1ZXggYWxsb3dzIHlvdSB0byBkbyB0aGlzIGF1dG9tYXRlZCB1c2luZyB0aGUgLi4ubWFwU3RhdGUgbWV0aG9kIHRvIGhhbmRsZSB0aGUgbWFwcGluZyBmb3IgeW91CiAgKiBGb3IgdGhpcyB3ZSB1c2UgdGhlIGltYWdlcy5vcmlnaW5hbC51cmwsIHNlZSBodHRwczovL2RldmVsb3BlcnMuZ2lwaHkuY29tL2V4cGxvcmVyIGZvciByZWZlcmVuY2UKICAqLwogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBnaXBoaWVzOiBmdW5jdGlvbiBnaXBoaWVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5naXBoaWVzOwogICAgfQogIH0pKSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICogRmV0Y2ggYSBjb2xsZWN0aW9uIG9mIGdpcGhpZXMgd2l0aCB0aGUgcGFzc2VkIG9mZnNldCBvciB0aGUgY29uZmlndXJlZCBvZmZzZXQKICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldAogICAgKi8KICAgIGZldGNoR2lwaGllczogZnVuY3Rpb24gZmV0Y2hHaXBoaWVzKG9mZnNldCkgewogICAgICB0aGlzLm9mZnNldCA9IG9mZnNldCB8fCB0aGlzLm9mZnNldDsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEdpcGhpZXMnLCB7CiAgICAgICAgc3ViamVjdDogJ2ZpdG5lc3MnLAogICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsCiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgKiBIYW5kbGUgdGhlIGluZmluaXRlIHNjcm9sbCBsb2dpYyBieSBhZGRpbmcgYW4gZXZlbnQgbGlzdGVuZXIuIElmIHdlIGdldCB3aXRoaW4gdGhlIHRocmVzaG9sZCBvZiB0aGUgYm90dG9tIG9mIHRoZSBwYWdlICh0aGUgc2Nyb2xsT2Zmc2V0LCB3aGljaCBpcyAyIGltYWdlcyBoaWdoKQogICAgKiBXZSBmZXRjaCB0aGUgbmV4dCBzZXQgb2YgZ2lwaGllcywgd2hpbGUgYmxvY2tpbmcgYW55IGZ1cnRoZXIgcmVxdWVzdHMgd2l0aCB0aGUgaXNMb2FkaW5nIHByb3BlcnR5CiAgICAqLwogICAgaW5pdEluZmluaXRlU2Nyb2xsOiBmdW5jdGlvbiBpbml0SW5maW5pdGVTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG1heFNjcm9sbCA9IE1hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApOwogICAgICAgIHZhciBib3R0b21PZldpbmRvdyA9IG1heFNjcm9sbCArIHdpbmRvdy5pbm5lckhlaWdodCA+PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gX3RoaXMuc2Nyb2xsT2Zmc2V0OwoKICAgICAgICBpZiAoYm90dG9tT2ZXaW5kb3cgJiYgIV90aGlzLmdpcGhpZXMuaXNMb2FkaW5nKSB7CiAgICAgICAgICBfdGhpcy5mZXRjaEdpcGhpZXMoX3RoaXMub2Zmc2V0ICsgX3RoaXMubGltaXQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/nandamhuis/Documents/giphy-vibes/demo/src/components/home-page.vue"],"names":[],"mappings":";AASA,SAAQ,QAAR,QAAuB,MAAvB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,MAAM,EAAE,CADH;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,YAAY,EAAE;AAHT,KAAP;AAKD,GARY;;AASb;AACA;AACA;AACA;AACA,EAAA,OAba,qBAaH;AACR,SAAK,kBAAL;AACA,SAAK,YAAL;AACD,GAhBY;;AAiBb;AACA;AACA;AACA;AACA;AACA,EAAA,QAAQ,oBACD,QAAQ,CAAC;AACR,IAAA,OAAO,EAAE,iBAAA,KAAI,EAAK;AAChB,aAAQ,KAAK,CAAC,OAAd;AACD;AAHO,GAAD,CADP,CAtBK;AA6Bb,EAAA,OAAO,EAAE;AACP;AACA;AACA;AACA;AACA,IAAA,YALO,wBAKM,MALN,EAKc;AACnB,WAAK,MAAL,GAAc,MAAK,IAAK,KAAK,MAA7B;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC;AAAC,QAAA,OAAO,EAAE,SAAV;AAAqB,QAAA,MAAM,EAAE,KAAK,MAAlC;AAA0C,QAAA,KAAK,EAAE,KAAK;AAAtD,OAAnC;AACD,KARM;;AASP;AACA;AACA;AACA;AACA,IAAA,kBAbO,gCAac;AAAA;;AACnB,MAAA,QAAQ,CAAC,gBAAT,CAA0B,QAA1B,EAAoC,YAAM;AACxC,YAAM,SAAQ,GAAI,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,QAAQ,CAAC,eAAT,CAAyB,SAAtD,EAAiE,QAAQ,CAAC,IAAT,CAAc,SAA/E,CAAlB;AACA,YAAM,cAAa,GAAK,SAAQ,GAAI,MAAM,CAAC,WAApB,IAAqC,QAAQ,CAAC,eAAT,CAAyB,YAAzB,GAAwC,KAAI,CAAC,YAAzG;;AAEA,YAAI,cAAa,IAAK,CAAC,KAAI,CAAC,OAAL,CAAa,SAApC,EAA+C;AAC7C,UAAA,KAAI,CAAC,YAAL,CAAkB,KAAI,CAAC,MAAL,GAAc,KAAI,CAAC,KAArC;AACF;AACD,OAPD;AAQF;AAtBO;AA7BI,CAAf","sourcesContent":["<template>\n  <h1>Fit at home inspiration</h1>\n  <div class=\"grid\">\n       <img v-for=\"item in giphies.data\" :key=\"item.images.original.url\" :src=\"item.images.original.url\" :alt=\"item.title\">\n       <div v-if=\"giphies.isLoading\" class=\"loader\">Loading...</div>\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex';\nexport default {\n  name: 'HomePage',\n  data() {\n    return {\n      offset: 0,\n      limit: 20,\n      scrollOffset: 700\n    }\n  },\n  /**\n  * The created lifecycle hook is called on load of the component. \n  * There we initiate the infinite scroll and fetch the initial set of giphies\n  */\n  created() {\n    this.initInfiniteScroll();\n    this.fetchGiphies();\n  },\n  /**\n  * In the computed values we link the giphies state from the store to a member variable of the component\n  * Vuex allows you to do this automated using the ...mapState method to handle the mapping for you\n  * For this we use the images.original.url, see https://developers.giphy.com/explorer for reference\n  */\n  computed: {\n      ...mapState({\n          giphies: state => {\n            return  state.giphies;\n          },\n      })\n  },\n  methods: {\n    /**\n    * Fetch a collection of giphies with the passed offset or the configured offset\n    * @param {Number} offset\n    */\n    fetchGiphies(offset) {\n      this.offset = offset || this.offset;\n      this.$store.dispatch('getGiphies', {subject: 'fitness', offset: this.offset, limit: this.limit});\n    },\n    /**\n    * Handle the infinite scroll logic by adding an event listener. If we get within the threshold of the bottom of the page (the scrollOffset, which is 2 images high)\n    * We fetch the next set of giphies, while blocking any further requests with the isLoading property\n    */\n    initInfiniteScroll() {\n      document.addEventListener('scroll', () => {\n        const maxScroll = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);\n        const bottomOfWindow = (maxScroll + window.innerHeight) >= (document.documentElement.offsetHeight - this.scrollOffset);\n\n        if (bottomOfWindow && !this.giphies.isLoading) {\n          this.fetchGiphies(this.offset + this.limit);\n        }\n      });\n    }\n  }\n}\n</script>\n<style>\nh1 {\n    font-family: helvetica;\n    padding: 32px;\n    background: #DDFCC7;\n}\n.grid {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n.grid img {\n  height: 350px;\n  width: 50%;\n}\n\n.loader,\n.loader:before,\n.loader:after {\n  border-radius: 50%;\n  width: 2.5em;\n  height: 2.5em;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  -webkit-animation: load 1.8s infinite ease-in-out;\n  animation: load 1.8s infinite ease-in-out;\n}\n.loader {\n  color: #000000;\n  font-size: 10px;\n  margin: 80px auto;\n  position: relative;\n  text-indent: -9999em;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n.loader:before,\n.loader:after {\n  content: '';\n  position: absolute;\n  top: 0;\n}\n.loader:before {\n  left: -3.5em;\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.loader:after {\n  left: 3.5em;\n}\n\n@-webkit-keyframes load {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 2.5em 0 -1.3em;\n  }\n  40% {\n    box-shadow: 0 2.5em 0 0;\n  }\n}\n\n@keyframes load {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 2.5em 0 -1.3em;\n  }\n  40% {\n    box-shadow: 0 2.5em 0 0;\n  }\n}\n</style>"],"sourceRoot":""}]}